

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Experiments &mdash; dame_bs 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Results" href="results.html" />
    <link rel="prev" title="Girgis’ Algorithm" href="girgis.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            dame_bs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dame_bs.html">dame_bs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="kent.html">Kent’s Algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="girgis.html">Girgis’ Algorithm</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Experiments</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-experiments.synthetic_data_experiments.univariate_experiment">Univariate Experiments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#experiments.synthetic_data_experiments.univariate_experiment.generate_univariate_scaled_data"><code class="docutils literal notranslate"><span class="pre">generate_univariate_scaled_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.synthetic_data_experiments.univariate_experiment.plot_errorbars"><code class="docutils literal notranslate"><span class="pre">plot_errorbars()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.synthetic_data_experiments.univariate_experiment.run_param"><code class="docutils literal notranslate"><span class="pre">run_param()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.synthetic_data_experiments.univariate_experiment.single_trial"><code class="docutils literal notranslate"><span class="pre">single_trial()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-experiments.synthetic_data_experiments.multivariate_experiment">Multivariate Experiments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#experiments.synthetic_data_experiments.multivariate_experiment.generate_multivariate_scaled_data"><code class="docutils literal notranslate"><span class="pre">generate_multivariate_scaled_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.synthetic_data_experiments.multivariate_experiment.run_param_multivariate"><code class="docutils literal notranslate"><span class="pre">run_param_multivariate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.synthetic_data_experiments.multivariate_experiment.single_trial"><code class="docutils literal notranslate"><span class="pre">single_trial()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-experiments.real_data_experiments.mimic.preprocess">Real Data : MIMIC-III</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.mimic.preprocess.append_row_csv"><code class="docutils literal notranslate"><span class="pre">append_row_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.mimic.preprocess.init_results_csv"><code class="docutils literal notranslate"><span class="pre">init_results_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.mimic.preprocess.make_file"><code class="docutils literal notranslate"><span class="pre">make_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.mimic.preprocess.make_seed"><code class="docutils literal notranslate"><span class="pre">make_seed()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.mimic.preprocess.scaling_data"><code class="docutils literal notranslate"><span class="pre">scaling_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.mimic.preprocess.truncate_and_shuffle"><code class="docutils literal notranslate"><span class="pre">truncate_and_shuffle()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.mimic.run_mimic_experiment.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-experiments.real_data_experiments.stocks_data.preprocess">Real Data : Stock Prices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.append_row_csv"><code class="docutils literal notranslate"><span class="pre">append_row_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.batch_download_close_prices"><code class="docutils literal notranslate"><span class="pre">batch_download_close_prices()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.check_stationarity"><code class="docutils literal notranslate"><span class="pre">check_stationarity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.compute_log_returns"><code class="docutils literal notranslate"><span class="pre">compute_log_returns()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.filter_and_truncate"><code class="docutils literal notranslate"><span class="pre">filter_and_truncate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.init_results_csv"><code class="docutils literal notranslate"><span class="pre">init_results_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.load_and_clean_tickers"><code class="docutils literal notranslate"><span class="pre">load_and_clean_tickers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.load_dict"><code class="docutils literal notranslate"><span class="pre">load_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.make_file"><code class="docutils literal notranslate"><span class="pre">make_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.make_seed"><code class="docutils literal notranslate"><span class="pre">make_seed()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.save_dict"><code class="docutils literal notranslate"><span class="pre">save_dict()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.preprocess.scale_series"><code class="docutils literal notranslate"><span class="pre">scale_series()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.stocks_data.run_stocks_experiment.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-experiments.real_data_experiments.globem.preprocess">Real Data : GLOBEM</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.preprocess.append_row_csv"><code class="docutils literal notranslate"><span class="pre">append_row_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.preprocess.init_results_csv"><code class="docutils literal notranslate"><span class="pre">init_results_csv()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.preprocess.load_and_select_sleep"><code class="docutils literal notranslate"><span class="pre">load_and_select_sleep()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.preprocess.load_and_select_steps"><code class="docutils literal notranslate"><span class="pre">load_and_select_steps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.preprocess.make_file"><code class="docutils literal notranslate"><span class="pre">make_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.preprocess.make_seed"><code class="docutils literal notranslate"><span class="pre">make_seed()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.preprocess.scaling"><code class="docutils literal notranslate"><span class="pre">scaling()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.preprocess.truncating_data"><code class="docutils literal notranslate"><span class="pre">truncating_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.run_sleep_experiment.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#experiments.real_data_experiments.globem.run_steps_experiment.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="results.html">Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">Tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">dame_bs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Experiments</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/experiments.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="experiments">
<h1>Experiments<a class="headerlink" href="#experiments" title="Link to this heading"></a></h1>
<p>This section presents experiments done to compare the DAME-BS algorithm, Kent’s algorithm and Girgis’ algorithm for both univariate and multivariate cases.</p>
<section id="module-experiments.synthetic_data_experiments.univariate_experiment">
<span id="univariate-experiments"></span><h2>Univariate Experiments<a class="headerlink" href="#module-experiments.synthetic_data_experiments.univariate_experiment" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="experiments.synthetic_data_experiments.univariate_experiment.generate_univariate_scaled_data">
<span class="sig-prename descclassname"><span class="pre">experiments.synthetic_data_experiments.univariate_experiment.</span></span><span class="sig-name descname"><span class="pre">generate_univariate_scaled_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">42</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/synthetic_data_experiments/univariate_experiment.html#generate_univariate_scaled_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.synthetic_data_experiments.univariate_experiment.generate_univariate_scaled_data" title="Link to this definition"></a></dt>
<dd><p>Generate and linearly scale univariate user samples into [-1,1].
This function simulates <cite>n</cite> users each providing <cite>m</cite> samples drawn from a
specified one‑dimensional distribution centered (in expectation) at
<cite>true_mean</cite>, and then rescales <em>all</em> samples (and the true mean) to lie in
the interval [-1, 1].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distribution</strong> (<em>str</em>) – <p>Which distribution to sample from. Supported values are:</p>
<ul>
<li><p>”normal”    : Gaussian N(true_mean, 1^2)</p></li>
<li><p>”uniform”   : Uniform U(true_mean - 1, true_mean + 1)</p></li>
<li><dl class="simple">
<dt>”standard_t”<span class="classifier">Student’s t distribution with degrees of freedom = 3</span></dt><dd><p>and expected value shifted to true_mean</p>
</dd>
</dl>
</li>
<li><p>”binomial”  : Binomial with number of trials as 50 and probability of success as true_mean/50</p></li>
</ul>
</p></li>
<li><p><strong>n</strong> (<em>int</em>) – Number of users (i.e., how many independent sample‐sets to generate).</p></li>
<li><p><strong>m</strong> (<em>int</em>) – Number of i.i.d. samples per user.</p></li>
<li><p><strong>true_mean</strong> (<em>float</em>) – The ground‐truth mean around which samples are generated; also used
to compute the scaled “true_mean” output.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>user_samples_scaled</strong> (<em>ndarray of shape (n, m)</em>) – The generated samples for all users, after rescaling linearly so the
<em>minimum</em> across all samples maps to -1 and the <em>maximum</em> maps to +1.</p></li>
<li><p><strong>true_mean_scaled</strong> (<em>float</em>) – The location of <cite>true_mean</cite> on the same linear map (i.e. the point in
[-1,1] where the original <cite>true_mean</cite> falls).</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.synthetic_data_experiments.univariate_experiment.plot_errorbars">
<span class="sig-prename descclassname"><span class="pre">experiments.synthetic_data_experiments.univariate_experiment.</span></span><span class="sig-name descname"><span class="pre">plot_errorbars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_errors_kent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_errors_dame_bs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_errors_kent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_errors_dame_bs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_errors_kent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_errors_dame_bs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">median_errors_girgis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower_errors_girgis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_errors_girgis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_ub</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_log_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/synthetic_data_experiments/univariate_experiment.html#plot_errorbars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.synthetic_data_experiments.univariate_experiment.plot_errorbars" title="Link to this definition"></a></dt>
<dd><p>Plots error bars for dame_bs and kent algorithms on a single graph.</p>
<p>This function is typically used to visualize the mean squared errors for different values (e.g., alpha or n or m).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_values</strong> (<em>list</em><em> or </em><em>array-like</em>) – X-axis values (e.g., alpha values or user counts).</p></li>
<li><p><strong>mean_errors_kent</strong> (<em>list</em><em> or </em><em>array-like</em>) – Mean squared error values corresponding to <cite>alphas</cite> for kent algorithm.</p></li>
<li><p><strong>mean_errors_dame_bs</strong> (<em>list</em><em> or </em><em>array-like</em>) – Mean squared error values corresponding to <cite>alphas</cite> for dame_bs algorithm.</p></li>
<li><p><strong>std_errors_kent</strong> (<em>list</em><em> or </em><em>array-like</em>) – Standard deviation of the errors for each value in <cite>alphas</cite> for kent algorithm.</p></li>
<li><p><strong>std_errors_dame_bs</strong> (<em>list</em><em> or </em><em>array-like</em>) – Standard deviation of the errors for each value in <cite>alphas</cite> for dame_bs algorithm.</p></li>
<li><p><strong>xlabel</strong> (<em>str</em>) – Label for the x-axis.</p></li>
<li><p><strong>ylabel</strong> (<em>str</em>) – Label for the y-axis.</p></li>
<li><p><strong>title</strong> (<em>str</em>) – Title of the plot.</p></li>
<li><p><strong>plot_ub</strong> (<em>Bool</em>) – If true then plots theoretical upper bounds for dame_bs algorithm. Default is ‘False’.</p></li>
<li><p><strong>upper_bounds</strong> (<em>list</em><em> or </em><em>array-like</em>) – Theoretical upper bound values for dame_bs algorithm corresponding to <cite>alphas</cite>. Default is empty-list.</p></li>
<li><p><strong>save_path</strong> (<em>str</em>) – If save_path is provided then saves the generated plot to provided path else displays plot. Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Displays the plot using <cite>matplotlib.pyplot</cite> or or saves the plot at the given path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.synthetic_data_experiments.univariate_experiment.run_param">
<span class="sig-prename descclassname"><span class="pre">experiments.synthetic_data_experiments.univariate_experiment.</span></span><span class="sig-name descname"><span class="pre">run_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trials_per_setting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">42</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_csv_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'results_param.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/synthetic_data_experiments/univariate_experiment.html#run_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.synthetic_data_experiments.univariate_experiment.run_param" title="Link to this definition"></a></dt>
<dd><p>Run multiple experimental trials varying one parameter.</p>
<p>For each value in <cite>param_values</cite>, this function runs
<cite>trials_per_setting</cite> independent trials in parallel (using a process pool),
evaluates both DAME-BS and Kent estimators, and writes results to CSV.
Summary statistics (median, quantile error rates and computation time) are also returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_name</strong> (<em>{&quot;alpha&quot;</em><em>, </em><em>&quot;n&quot;</em><em>, </em><em>&quot;m&quot;}</em>) – Which parameter to vary across the experiment among privacy parameter (alpha), number of users (n) or number of samples per users (m)</p></li>
<li><p><strong>param_values</strong> (<em>list</em>) – List of values for the chosen parameter.</p></li>
<li><p><strong>fixed_n</strong> (<em>int</em>) – Fixed number of users (used when param_name is not “n”).</p></li>
<li><p><strong>fixed_m</strong> (<em>int</em>) – Fixed number of samples per user (used when param_name is not “m”).</p></li>
<li><p><strong>fixed_alpha</strong> (<em>float</em>) – Fixed privacy/confidence parameter (used when param_name is not “alpha”).</p></li>
<li><p><strong>distribution</strong> (<em>str</em>) – Distribution type for synthetic data (“uniform”,”normal”,”binomial”,”standard_t”)</p></li>
<li><p><strong>true_mean</strong> (<em>float</em>) – Ground-truth mean of the generating distribution.</p></li>
<li><p><strong>trials_per_setting</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default=50</em><em>)</em>) – Number of independent trials per parameter value.</p></li>
<li><p><strong>base_seed</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default=42</em><em>)</em>) – Base seed for reproducibility. It is combined with indices to generate per-trial seeds.</p></li>
<li><p><strong>out_csv_path</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default=&quot;results_param.csv&quot;</em><em>)</em>) – Path to write per-trial results in CSV format.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default=8</em><em>)</em>) – Number of parallel worker processes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>results</strong> – A dictionary with keys:
- “param_values” : list of parameter values
- “median_dame”, “lower10_dame”, “upper90_dame”
- “median_kent”, “lower10_kent”, “upper90_kent”
- “median_girgis”,”lower10_girgis”,”upper90_girgis”
- “df” : pandas DataFrame containing all per-trial rows</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.synthetic_data_experiments.univariate_experiment.single_trial">
<span class="sig-prename descclassname"><span class="pre">experiments.synthetic_data_experiments.univariate_experiment.</span></span><span class="sig-name descname"><span class="pre">single_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial_seed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/synthetic_data_experiments/univariate_experiment.html#single_trial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.synthetic_data_experiments.univariate_experiment.single_trial" title="Link to this definition"></a></dt>
<dd><p>Run one complete experimental trial.</p>
<p>This function generates a fresh dataset with the given random seed,
runs both the DAME-BS and Kent estimators on it, and records their
performance metrics (MSE and runtime). The output is formatted as a
dictionary suitable for logging to CSV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – Number of users.</p></li>
<li><p><strong>m</strong> (<em>int</em>) – Number of samples per user.</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Privacy parameter passed to both estimators.</p></li>
<li><p><strong>distribution</strong> (<em>str</em>) – Distribution type to generate synthetic data from
(supported values : “normal”,”uniform”,”binomial”,”standard_t”).</p></li>
<li><p><strong>true_mean</strong> (<em>float</em>) – Ground-truth mean of the distribution (before scaling).</p></li>
<li><p><strong>trial_seed</strong> (<em>int</em>) – Random seed controlling reproducibility of this trial.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>row</strong> – Dictionary containing per-trial information with keys:
- “n”, “m”, “alpha”, “distribution”, “true_mean”, “seed”
- “dame_estimate”, “dame_mse”, “dame_time”,
- “kent_estimate”, “kent_mse”, “kent_time”,
- “girgis_estimate”,”girgis_mse”,”girgis_time”,
- “status” : “ok” or error string</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-experiments.synthetic_data_experiments.multivariate_experiment">
<span id="multivariate-experiments"></span><h2>Multivariate Experiments<a class="headerlink" href="#module-experiments.synthetic_data_experiments.multivariate_experiment" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="experiments.synthetic_data_experiments.multivariate_experiment.generate_multivariate_scaled_data">
<span class="sig-prename descclassname"><span class="pre">experiments.synthetic_data_experiments.multivariate_experiment.</span></span><span class="sig-name descname"><span class="pre">generate_multivariate_scaled_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">42</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/synthetic_data_experiments/multivariate_experiment.html#generate_multivariate_scaled_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.synthetic_data_experiments.multivariate_experiment.generate_multivariate_scaled_data" title="Link to this definition"></a></dt>
<dd><p>Generates and scales multivariate samples into [-1,1]^d.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>distribution</strong> (<em>str</em>) – Supported Distributions {“normal”,”uniform”,”standard_t”,”binomial”}.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – Number of users (i.e. number of independent sample‐sets).</p></li>
<li><p><strong>m</strong> (<em>int</em>) – Number of samples per user.</p></li>
<li><p><strong>d</strong> (<em>int</em>) – Dimension of each dimension.</p></li>
<li><p><strong>true_mean</strong> (<em>array‐like</em><em> of </em><em>shape</em><em> (</em><em>d</em><em>,</em><em>)</em>) – The ground‐truth mean vector.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>user_samples_scaled</strong> (<em>ndarray, shape (n, m, d)</em>) – All user samples, scaled so each coordinate lies in [-1,1].</p></li>
<li><p><strong>true_mean_scaled</strong> (<em>ndarray, shape (d,)</em>) – The true_mean vector under the same per‐coordinate scaling.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.synthetic_data_experiments.multivariate_experiment.run_param_multivariate">
<span class="sig-prename descclassname"><span class="pre">experiments.synthetic_data_experiments.multivariate_experiment.</span></span><span class="sig-name descname"><span class="pre">run_param_multivariate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trials_per_setting</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">42</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_csv_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'results_param.csv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/synthetic_data_experiments/multivariate_experiment.html#run_param_multivariate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.synthetic_data_experiments.multivariate_experiment.run_param_multivariate" title="Link to this definition"></a></dt>
<dd><p>Parallel experiment runner for multivariate trials.</p>
<p>Varies one parameter (<cite>alpha</cite>, <cite>n</cite>, <cite>m</cite>, or <cite>d</cite>) across a grid of values,
runs multiple independent trials in parallel, evaluates both estimators
(DAME-BS and Kent), writes results incrementally to CSV, and summarizes
error statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_name</strong> (<em>{&quot;alpha&quot;</em><em>, </em><em>&quot;n&quot;</em><em>, </em><em>&quot;m&quot;</em><em>, </em><em>&quot;d&quot;}</em>) – Which parameter to vary across the experiment.</p></li>
<li><p><strong>param_values</strong> (<em>list</em>) – Sequence of values for the chosen parameter.</p></li>
<li><p><strong>fixed_n</strong> (<em>int</em>) – Fixed number of users (used when param_name is not “n”).</p></li>
<li><p><strong>fixed_m</strong> (<em>int</em>) – Fixed number of samples per user (used when param_name is not “m”).</p></li>
<li><p><strong>fixed_alpha</strong> (<em>float</em>) – Fixed privacy/confidence parameter (used when param_name is not “alpha”).</p></li>
<li><p><strong>fixed_d</strong> (<em>int</em>) – Fixed data dimensionality (used when param_name is not “d”).</p></li>
<li><p><strong>distribution</strong> (<em>str</em>) – Distribution type used to generate synthetic multivariate data.</p></li>
<li><p><strong>true_mean</strong> (<em>array-like</em>) – Ground-truth mean vector of the generating distribution.
If <cite>param_name == “d”</cite>, this is reset automatically to <cite>[0.1] * d</cite>.</p></li>
<li><p><strong>trials_per_setting</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default=50</em><em>)</em>) – Number of independent trials per parameter value.</p></li>
<li><p><strong>base_seed</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default=42</em><em>)</em>) – Base seed for reproducibility; combined with indices to generate per-trial seeds.</p></li>
<li><p><strong>out_csv_path</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default=&quot;results_param.csv&quot;</em><em>)</em>) – Path to write per-trial results in CSV format (overwritten if exists).</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em>, </em><em>optional</em><em> (</em><em>default=8</em><em>)</em>) – Number of worker processes to use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>results</strong> – Dictionary with keys:
- “param_values” : list of parameter values (in original order)
- “median_dame”, “lower10_dame”, “upper90_dame”
- “median_kent”, “lower10_kent”, “upper90_kent”
- “df” : pandas DataFrame with all per-trial rows</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.synthetic_data_experiments.multivariate_experiment.single_trial">
<span class="sig-prename descclassname"><span class="pre">experiments.synthetic_data_experiments.multivariate_experiment.</span></span><span class="sig-name descname"><span class="pre">single_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">true_mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial_seed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/synthetic_data_experiments/multivariate_experiment.html#single_trial"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.synthetic_data_experiments.multivariate_experiment.single_trial" title="Link to this definition"></a></dt>
<dd><p>Run one complete multivariate experimental trial.</p>
<p>This function generates synthetic multivariate data, runs both the
DAME-BS and Kent estimators, and collects their performance metrics
(mean squared error and runtime). Results are returned in a dict that
can be written directly to CSV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>int</em>) – Number of users.</p></li>
<li><p><strong>m</strong> (<em>int</em>) – Number of samples per user.</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Privacy parameter for the estimators.</p></li>
<li><p><strong>d</strong> (<em>int</em>) – Dimension of the multivariate distribution.</p></li>
<li><p><strong>distribution</strong> (<em>str</em>) – Distribution type used for synthetic data generation
(supported values : “normal”,”uniform”,”binomial”,”standard_t”).</p></li>
<li><p><strong>true_mean</strong> (<em>array-like</em><em> of </em><em>shape</em><em> (</em><em>d</em><em>,</em><em>)</em>) – Ground-truth mean vector of the generating distribution
(before scaling).</p></li>
<li><p><strong>trial_seed</strong> (<em>int</em>) – Random seed controlling reproducibility of this trial.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>row</strong> – Dictionary with per-trial results containing keys:
- “n”, “m”, “alpha”, “d”, “distribution”, “true_mean”, “seed”
- “dame_estimate”, “dame_mse”, “dame_time”
- “kent_estimate”, “kent_mse”, “kent_time”
- “girgis_estimate”, “girgis_mse”, “girgis_time”
- “status” : “ok” or error string</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-experiments.real_data_experiments.mimic.preprocess">
<span id="real-data-mimic-iii"></span><h2>Real Data : MIMIC-III<a class="headerlink" href="#module-experiments.real_data_experiments.mimic.preprocess" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.mimic.preprocess.append_row_csv">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.mimic.preprocess.</span></span><span class="sig-name descname"><span class="pre">append_row_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/mimic/preprocess.html#append_row_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.mimic.preprocess.append_row_csv" title="Link to this definition"></a></dt>
<dd><p>Append a single row of results to an existing CSV file.</p>
<p>This function ensures the parent directory exists and then
appends a new row (provided as a dictionary) to the CSV file.
If the file does not already exist, it is the caller’s
responsibility to initialize it with <cite>init_results_csv</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – File path to the CSV file.</p></li>
<li><p><strong>row</strong> (<em>dict</em>) – A dictionary where keys correspond to column names and
values correspond to row entries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the new row to the CSV file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.mimic.preprocess.init_results_csv">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.mimic.preprocess.</span></span><span class="sig-name descname"><span class="pre">init_results_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/mimic/preprocess.html#init_results_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.mimic.preprocess.init_results_csv" title="Link to this definition"></a></dt>
<dd><p>Initialize (create or overwrite) a results CSV file with
predefined column headers.</p>
<p>This function ensures the parent directory exists, then
creates a CSV file with the expected schema for storing
per-trial results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – File path where the CSV will be created.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the CSV file to disk.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.mimic.preprocess.make_file">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.mimic.preprocess.</span></span><span class="sig-name descname"><span class="pre">make_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/mimic/preprocess.html#make_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.mimic.preprocess.make_file" title="Link to this definition"></a></dt>
<dd><p>Ensure that the directory for a given file path exists.</p>
<p>This function extracts the directory portion of the given file path
and checks if it exists. If it does not exist, it creates the
directory (including any intermediate directories as needed).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – A path-like object representing a file system path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function does not return anything. It ensures the
parent directory exists.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.mimic.preprocess.make_seed">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.mimic.preprocess.</span></span><span class="sig-name descname"><span class="pre">make_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/mimic/preprocess.html#make_seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.mimic.preprocess.make_seed" title="Link to this definition"></a></dt>
<dd><p>Generate a deterministic 32-bit integer seed from a base seed
and a trial index.</p>
<p>The function concatenates the <cite>base_seed</cite> and <cite>trial_index</cite>,
hashes the string using MD5, and returns the first 32 bits
(8 hex characters) of the hash as an integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_seed</strong> (<em>int</em>) – The base seed value used for reproducibility.</p></li>
<li><p><strong>trial_index</strong> (<em>int</em>) – The trial index used to generate unique seeds across trials.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A deterministic 32-bit integer seed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.mimic.preprocess.scaling_data">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.mimic.preprocess.</span></span><span class="sig-name descname"><span class="pre">scaling_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_samples</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/mimic/preprocess.html#scaling_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.mimic.preprocess.scaling_data" title="Link to this definition"></a></dt>
<dd><p>Scales user data into the range [-1, 1] and computes relevant statistics.</p>
<p>This function flattens all user data into a single list, finds the global
minimum and maximum values, and then linearly scales all values for each user
into the range [-1, 1] using the transformation:</p>
<blockquote>
<div><p>scaled_value = (2 * (value - vmin) / (vmax - vmin)) - 1</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_samples</strong> (<em>dict</em>) – A dictionary mapping users (keys) to lists of numeric samples (values),</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>user_samples_scaled</strong> (<em>dict</em>) – Dictionary with the same keys as <cite>user_samples</cite>, where each user’s values
are scaled to the range [-1, 1].</p></li>
<li><p><strong>desired_length</strong> (<em>int</em>) – The minimum number of samples across all users.</p></li>
<li><p><strong>true_mean</strong> (<em>float</em>) – The mean of all unscaled sample values.</p></li>
<li><p><strong>true_mean_scaled</strong> (<em>float</em>) – The mean of all scaled sample values.</p></li>
<li><p><strong>vmin</strong> (<em>float</em>) – Minimum value among all unscaled sample values.</p></li>
<li><p><strong>vmax</strong> (<em>float</em>) – Maximum value among all unscaled sample values.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.mimic.preprocess.truncate_and_shuffle">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.mimic.preprocess.</span></span><span class="sig-name descname"><span class="pre">truncate_and_shuffle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/mimic/preprocess.html#truncate_and_shuffle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.mimic.preprocess.truncate_and_shuffle" title="Link to this definition"></a></dt>
<dd><p>Truncates each user’s sample list to a fixed length and shuffles it randomly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>user_samples</strong> (<em>dict</em>) – Dictionary mapping users to lists of samples.</p></li>
<li><p><strong>desired_length</strong> (<em>int</em>) – The number of samples to retain per user.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>final</strong> – Dictionary containing users with <cite>desired_length</cite> samples,
where each user’s samples are truncated and shuffled.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-experiments.real_data_experiments.mimic.run_mimic_experiment">
<dt class="sig sig-object py" id="experiments.real_data_experiments.mimic.run_mimic_experiment.main">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.mimic.run_mimic_experiment.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/mimic/run_mimic_experiment.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.mimic.run_mimic_experiment.main" title="Link to this definition"></a></dt>
<dd><p>This script runs a 500-trial comparison of Kent’s mean estimator, algorithm proposed by Girgis and DAME-BS
on real heart rate data from the MIMIC-III dataset.</p>
<dl class="simple">
<dt>Steps:</dt><dd><ul class="simple">
<li><p>Loads and filters MIMIC-III CHARTEVENTS for heart rate data.</p></li>
<li><p>Scales all values to [-1, 1] and truncates samples so each user have same number of samples.</p></li>
<li><p>Runs all three algorithms across 500 trials.</p></li>
<li><p>Reports runtime, mean estimates, and median MSE (in both scaled and original ranges) including 10th and 90th percentile.</p></li>
<li><p>Saves each trial along with other parameter in a csv file.</p></li>
<li><p>Also saves the final summary of results.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-experiments.real_data_experiments.stocks_data.preprocess">
<span id="real-data-stock-prices"></span><h2>Real Data : Stock Prices<a class="headerlink" href="#module-experiments.real_data_experiments.stocks_data.preprocess" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.append_row_csv">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">append_row_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#append_row_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.append_row_csv" title="Link to this definition"></a></dt>
<dd><p>Append a single row of results to an existing CSV file.</p>
<p>This function ensures the parent directory exists and then
appends a new row (provided as a dictionary) to the CSV file.
If the file does not already exist, it is the caller’s
responsibility to initialize it with <cite>init_results_csv</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – File path to the CSV file.</p></li>
<li><p><strong>row</strong> (<em>dict</em>) – A dictionary where keys correspond to column names and
values correspond to row entries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the new row to the CSV file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.batch_download_close_prices">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">batch_download_close_prices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tickers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'1d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#batch_download_close_prices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.batch_download_close_prices" title="Link to this definition"></a></dt>
<dd><p>This function downloads stock prices in batches using tikcers over period
of 1 year with and interval of 1 day. It returns a dictionary with available
close prices of stocks over a year present in the tickers list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tickers</strong> (<em>list</em><em> of </em><em>str</em>) – List of stock symbols to fetch.</p></li>
<li><p><strong>period</strong> (<em>str</em>) – Time window for data retrieval (default is ‘1y’).</p></li>
<li><p><strong>interval</strong> (<em>str</em>) – Interval between observations (default is ‘1d’).</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – Number of tickers per download batch.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary mapping tickers to their daily close price lists.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.check_stationarity">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">check_stationarity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returns_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#check_stationarity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.check_stationarity" title="Link to this definition"></a></dt>
<dd><p>Checks stationarity of return series using Augmented Dickey-Fuller test.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>returns_dict</strong> (<em>dict</em>) – Dictionary of stocks mapped to their log return time series.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all series are stationary (p-value &lt; 0.05), False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.compute_log_returns">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">compute_log_returns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prices_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#compute_log_returns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.compute_log_returns" title="Link to this definition"></a></dt>
<dd><p>Computes log returns from stock price series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prices_dict</strong> (<em>dict</em>) – Dictionary mapping tickers to their price time series.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary mapping tickers to their log return time series.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.filter_and_truncate">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">filter_and_truncate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">returns_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">230</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#filter_and_truncate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.filter_and_truncate" title="Link to this definition"></a></dt>
<dd><p>Filters out time series with NaNs or insufficient length,
and truncates all remaining series to the minimum length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>returns_dict</strong> (<em>dict</em>) – Dictionary of log return time series.</p></li>
<li><p><strong>min_samples</strong> (<em>int</em>) – Minimum required number of samples for each time series.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>dict: Truncated time series of equal length.</p></li>
<li><p>int: The truncation length used.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.init_results_csv">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">init_results_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#init_results_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.init_results_csv" title="Link to this definition"></a></dt>
<dd><p>Initialize (create or overwrite) a results CSV file with
predefined column headers.</p>
<p>This function ensures the parent directory exists, then
creates a CSV file with the expected schema for storing
per-trial results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – File path where the CSV will be created.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the CSV file to disk.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.load_and_clean_tickers">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">load_and_clean_tickers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4996</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#load_and_clean_tickers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.load_and_clean_tickers" title="Link to this definition"></a></dt>
<dd><p>Loads and filters NASDAQ-listed stock tickers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – Number of tickers to return after shuffling.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of clean ticker symbols ready for data download.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.load_dict">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">load_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#load_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.load_dict" title="Link to this definition"></a></dt>
<dd><p>Loads a Python dictionary from a pickle file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – File path to load the dictionary from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The loaded dictionary object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.make_file">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">make_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#make_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.make_file" title="Link to this definition"></a></dt>
<dd><p>Ensure that the directory for a given file path exists.</p>
<p>This function extracts the directory portion of the given file path
and checks if it exists. If it does not exist, it creates the
directory (including any intermediate directories as needed).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – A path-like object representing a file system path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function does not return anything. It ensures the
parent directory exists.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.make_seed">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">make_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#make_seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.make_seed" title="Link to this definition"></a></dt>
<dd><p>Generate a deterministic 32-bit integer seed from a base seed
and a trial index.</p>
<p>The function concatenates the <cite>base_seed</cite> and <cite>trial_index</cite>,
hashes the string using MD5, and returns the first 32 bits
(8 hex characters) of the hash as an integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_seed</strong> (<em>int</em>) – The base seed value used for reproducibility.</p></li>
<li><p><strong>trial_index</strong> (<em>int</em>) – The trial index used to generate unique seeds across trials.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A deterministic 32-bit integer seed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.save_dict">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">save_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#save_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.save_dict" title="Link to this definition"></a></dt>
<dd><p>Saves a Python dictionary to a pickle file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> (<em>dict</em>) – The dictionary to save.</p></li>
<li><p><strong>path</strong> (<em>str</em>) – File path to save the dictionary.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.preprocess.scale_series">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.preprocess.</span></span><span class="sig-name descname"><span class="pre">scale_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/preprocess.html#scale_series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.preprocess.scale_series" title="Link to this definition"></a></dt>
<dd><p>Scales all time series to the range [-1, 1] using min-max normalization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>series_dict</strong> (<em>dict</em>) – Dictionary of unscaled time series.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><dl class="simple">
<dt>scaled_returns<span class="classifier">list of list</span></dt><dd><p>Scaled and shuffled time series.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>true_mean<span class="classifier">float</span></dt><dd><p>Mean of original values.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>true_mean_scaled<span class="classifier">float</span></dt><dd><p>Scaled mean.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>min_val<span class="classifier">float</span></dt><dd><p>Minimum value in the original data.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>max_val<span class="classifier">float</span></dt><dd><p>Maximum value in the original data.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-experiments.real_data_experiments.stocks_data.run_stocks_experiment">
<dt class="sig sig-object py" id="experiments.real_data_experiments.stocks_data.run_stocks_experiment.main">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.stocks_data.run_stocks_experiment.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/stocks_data/run_stocks_experiment.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.stocks_data.run_stocks_experiment.main" title="Link to this definition"></a></dt>
<dd><p>This script runs a 500-trial comparison of Kent’s mean estimator,Girgis mean estimator and DAME-BS
on real stock prives data from the yfinance.</p>
<dl class="simple">
<dt>Steps:</dt><dd><ul class="simple">
<li><p>Loads ticker symbols.</p></li>
<li><p>Download available close prices of 1000 stocks using loaded tickers over the period of 1 year for each day.</p></li>
<li><p>Computes the log returns and check for stationarity of time series.</p></li>
<li><p>Filter out all the time series with Nan values and truncate them so each of them have same number of sample.</p></li>
<li><p>Scaled the data in range [-1,1].</p></li>
<li><p>Runs all three algorithms across 500 trials.</p></li>
<li><p>Reports runtime, mean estimates, and median MSE (in both scaled and original ranges) including 10th and 90th percentile.</p></li>
<li><p>Saves each trial along with other parameter in a csv file.</p></li>
<li><p>Also saves the final summary of results.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-experiments.real_data_experiments.globem.preprocess">
<span id="real-data-globem"></span><h2>Real Data : GLOBEM<a class="headerlink" href="#module-experiments.real_data_experiments.globem.preprocess" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.preprocess.append_row_csv">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.preprocess.</span></span><span class="sig-name descname"><span class="pre">append_row_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/preprocess.html#append_row_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.preprocess.append_row_csv" title="Link to this definition"></a></dt>
<dd><p>Append a single row of results to an existing CSV file.</p>
<p>This function ensures the parent directory exists and then
appends a new row (provided as a dictionary) to the CSV file.
If the file does not already exist, it is the caller’s
responsibility to initialize it with <cite>init_results_csv</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – File path to the CSV file.</p></li>
<li><p><strong>row</strong> (<em>dict</em>) – A dictionary where keys correspond to column names and
values correspond to row entries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the new row to the CSV file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.preprocess.init_results_csv">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.preprocess.</span></span><span class="sig-name descname"><span class="pre">init_results_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/preprocess.html#init_results_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.preprocess.init_results_csv" title="Link to this definition"></a></dt>
<dd><p>Initialize (create or overwrite) a results CSV file with
predefined column headers.</p>
<p>This function ensures the parent directory exists, then
creates a CSV file with the expected schema for storing
per-trial results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – File path where the CSV will be created.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function writes the CSV file to disk.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.preprocess.load_and_select_sleep">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.preprocess.</span></span><span class="sig-name descname"><span class="pre">load_and_select_sleep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/preprocess.html#load_and_select_sleep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.preprocess.load_and_select_sleep" title="Link to this definition"></a></dt>
<dd><p>Load and preprocess sleep duration data from a CSV file.
This function reads Fitbit sleep data and selects only the participant ID (<cite>pid</cite>),
date, and total duration of sleep (main sleep) for the day.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Path to the CSV file containing the sleep data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with columns: ‘pid’, ‘date’, and ‘sleep_duration’.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.preprocess.load_and_select_steps">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.preprocess.</span></span><span class="sig-name descname"><span class="pre">load_and_select_steps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/preprocess.html#load_and_select_steps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.preprocess.load_and_select_steps" title="Link to this definition"></a></dt>
<dd><p>Load and preprocess step count data from a CSV file containing steps data of users.
This function reads the Fitbit intraday step data and selects only relevant columns:
participant ID (<cite>pid</cite>), date, and the sum of steps for each time segment of the day
(morning, afternoon, evening, night). It then renames those columns for readability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Path to the CSV file containing the step data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A DataFrame with columns: ‘pid’, ‘date’, ‘steps_morning’,
‘steps_afternoon’, ‘steps_evening’, and ‘steps_night’.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.preprocess.make_file">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.preprocess.</span></span><span class="sig-name descname"><span class="pre">make_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/preprocess.html#make_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.preprocess.make_file" title="Link to this definition"></a></dt>
<dd><p>Ensure that the directory for a given file path exists.</p>
<p>This function extracts the directory portion of the given file path
and checks if it exists. If it does not exist, it creates the
directory (including any intermediate directories as needed).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – A path-like object representing a file system path.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>This function does not return anything. It ensures the
parent directory exists.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.preprocess.make_seed">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.preprocess.</span></span><span class="sig-name descname"><span class="pre">make_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trial_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/preprocess.html#make_seed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.preprocess.make_seed" title="Link to this definition"></a></dt>
<dd><p>Generate a deterministic 32-bit integer seed from a base seed
and a trial index.</p>
<p>The function concatenates the <cite>base_seed</cite> and <cite>trial_index</cite>,
hashes the string using MD5, and returns the first 32 bits
(8 hex characters) of the hash as an integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_seed</strong> (<em>int</em>) – The base seed value used for reproducibility.</p></li>
<li><p><strong>trial_index</strong> (<em>int</em>) – The trial index used to generate unique seeds across trials.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A deterministic 32-bit integer seed.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.preprocess.scaling">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.preprocess.</span></span><span class="sig-name descname"><span class="pre">scaling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/preprocess.html#scaling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.preprocess.scaling" title="Link to this definition"></a></dt>
<dd><p>Scales user sample data to the range [-1, 1] and computes the mean before and after scaling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em>) – Dictionary where keys are user IDs and values are lists of numeric samples.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>- user_samples_scaled</strong> (<em>list of list</em>) – Scaled user samples.</p></li>
<li><p><strong>- min_val</strong> (<em>float</em>) – Minimum value before scaling.</p></li>
<li><p><strong>- max_val</strong> (<em>float</em>) – Maximum value before scaling.</p></li>
<li><p><strong>- true_mean</strong> (<em>float</em>) – True mean before scaling.</p></li>
<li><p><strong>- true_mean_scaled</strong> (<em>float</em>) – True mean after scaling.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.preprocess.truncating_data">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.preprocess.</span></span><span class="sig-name descname"><span class="pre">truncating_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/preprocess.html#truncating_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.preprocess.truncating_data" title="Link to this definition"></a></dt>
<dd><p>Truncates each user’s data to the same number of samples (minimum length among all users),
after shuffling their individual sample lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>dict</em>) – Dictionary where keys are user IDs and values are lists of numeric samples.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>- dict</strong> (<em>Truncated dictionary of user samples with uniform length.</em>)</p></li>
<li><p><strong>- int</strong> (<em>Number of samples per user after truncation.</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function" id="module-experiments.real_data_experiments.globem.run_sleep_experiment">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.run_sleep_experiment.main">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.run_sleep_experiment.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/run_sleep_experiment.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.run_sleep_experiment.main" title="Link to this definition"></a></dt>
<dd><p>Main experiment function for evaluating Kent’s algorithm, Girgis’ algorithm and DAME-BS
on GLOBEM sleep duration data.</p>
<section id="steps">
<h3>Steps:<a class="headerlink" href="#steps" title="Link to this heading"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Loads and concatenates multiple CSV files containing Fitbit-derived sleep duration.</p></li>
<li><p>Handles missing data and prepares a uniform sample length across users.</p></li>
<li><p>Scales the sleep duration values to the range [-1, 1].</p></li>
<li><p>Runs all three algorithms 500 times to estimate the mean and records time and accuracy.</p></li>
<li><p>Reports runtime, mean estimates, and median MSE (in both scaled and original ranges) including 10th and 90th percentile.</p></li>
<li><p>Saves each trial along with other parameter in a csv file.</p></li>
<li><p>Also saves the final summary of results.</p></li>
</ul>
</div></blockquote>
</section>
</dd></dl>

<dl class="py function" id="module-experiments.real_data_experiments.globem.run_steps_experiment">
<dt class="sig sig-object py" id="experiments.real_data_experiments.globem.run_steps_experiment.main">
<span class="sig-prename descclassname"><span class="pre">experiments.real_data_experiments.globem.run_steps_experiment.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/experiments/real_data_experiments/globem/run_steps_experiment.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#experiments.real_data_experiments.globem.run_steps_experiment.main" title="Link to this definition"></a></dt>
<dd><p>Executes the mean estimation experiment on segmented step count data.</p>
<section id="id1">
<h3>Steps:<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p>Load 4 CSV files containing Fitbit-derived step counts over different time segments of the day.</p></li>
<li><p>Preprocess the data: merge, remove NaNs, flatten per-user data, and truncate to uniform length.</p></li>
<li><p>Scale data to the [-1, 1] range and compute true means.</p></li>
<li><p>Shuffle users and run both estimation algorithms (Kent’s and DAME-BS) 500 times.</p></li>
<li><p>Runs all three algorithms 500 times to estimate the mean and records time and accuracy.</p></li>
<li><p>Reports runtime, mean estimates, and median MSE (in both scaled and original ranges) including 10th and 90th percentile.</p></li>
<li><p>Saves each trial along with other parameter in a csv file.</p></li>
<li><p>Also saves the final summary of results.</p></li>
</ul>
</div></blockquote>
</section>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="girgis.html" class="btn btn-neutral float-left" title="Girgis’ Algorithm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="results.html" class="btn btn-neutral float-right" title="Results" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Kanupriya.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>